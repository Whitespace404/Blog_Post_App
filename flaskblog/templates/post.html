{% extends "base.html" %}

{% block title %} Post - {{ post.title }} {% endblock title %}
{% block content %}
<div class="main">
  <article>
    <img src="{{ url_for('static', filename='profile_pics/' + post.author.image_file) }}"
    class="rounded-profile-pic">
      <h2>{{ post.title }}</h2>
      <p>{{ post.content }}</p>
      <br>
    <hr>
      <h5 class="post-author">| Written by {{ post.author.username }} on {{ post.date_posted.strftime('%Y-%m-%d') }}.</h5>
    <br><br>
    {% if post.author == current_user %}
      <div class="action-btn">
        <a href="{{ url_for('update_post', post_id=post.id) }}" class="button">Update this Post</a>
        <form action="{{ url_for('delete_post', post_id=post.id )}}" method="POST">
          <input type="submit" value="Delete this Post. This action cannot be undone. " class="danger-button">
        </form>
      </div>
    {% endif %}

    {% if post.is_verified %}
      <i class="fas fa-check-circle"></i>
      <label> Verified Post </label>
    {% else %}
      <i class="fas fa-users"></i>
      <label> This post is yet to be verified by the admin</label>
    {% endif %}

    <br><br>

    {% if post.is_verified and validated %}
        <a href="#"> This post is already verified </a>
        <a href="{{ url_for('validate_post', post_id=post.id)}}" class="admin-validate-post" style="visibility: hidden;">Validate this post</a>
    {% elif not post.is_verified and validated %}
        <a href="{{ url_for('validate_post', post_id=post.id)}}" class="admin-validate-post" style="visibility: visible;">Validate this post</a>
    {% endif %}
    
    
  </article>
</div>
{% endblock content %}
